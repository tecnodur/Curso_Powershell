<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/Curso_Powershell/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/Curso_Powershell/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/Curso_Powershell/assets/js/vendor/lunr.min.js"></script> <script src="/Curso_Powershell/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Session 1: PowerShell em Linux com WSL | PowerShell Workshop</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="Session 1: PowerShell em Linux com WSL" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A project site with collapsible side navigation." /> <meta property="og:description" content="A project site with collapsible side navigation." /> <link rel="canonical" href="https://tecnodur.github.io/Curso_Powershell/Modules/Module4/session1.html" /> <meta property="og:url" content="https://tecnodur.github.io/Curso_Powershell/Modules/Module4/session1.html" /> <meta property="og:site_name" content="PowerShell Workshop" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Session 1: PowerShell em Linux com WSL" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A project site with collapsible side navigation.","headline":"Session 1: PowerShell em Linux com WSL","url":"https://tecnodur.github.io/Curso_Powershell/Modules/Module4/session1.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/Curso_Powershell/" class="site-title lh-tight"> PowerShell Workshop </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/Curso_Powershell/" class="nav-list-link">Curso de PowerShell & Shell Scripting</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in M√≥dulo 1: Introdu√ß√£o ao PowerShell e Shell Scripting category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Curso_Powershell/Modules/Module1/" class="nav-list-link">M√≥dulo 1: Introdu√ß√£o ao PowerShell e Shell Scripting</a><ul class="nav-list"><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module1/session1.html" class="nav-list-link">Session 1: Conceitos B√°sicos e Configura√ß√£o</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module1/session2.html" class="nav-list-link">Sess√£o 2: Comandos, Navega√ß√£o e Ajuda</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module1/session3.html" class="nav-list-link">Session 3: Objetos, par√¢metros, pipeline, output, exporta√ß√µes</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in M√≥dulo 2: Fundamentos de Scripting e L√≥gica em PowerShell category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Curso_Powershell/Modules/Module2/" class="nav-list-link">M√≥dulo 2: Fundamentos de Scripting e L√≥gica em PowerShell</a><ul class="nav-list"><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session1.html" class="nav-list-link">Session 1: Criar e Executar Scripts</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session2.html" class="nav-list-link">Session 2: Vari√°veis e Tipos de Dados</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session3.html" class="nav-list-link">Session 3: Tratamento de Erros com try, catch e finally</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session4.html" class="nav-list-link">Session 4: Manipula√ß√£o de Texto e Dados Simples</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session5.html" class="nav-list-link">Session 5: Estruturas Condicionais</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module2/session6.html" class="nav-list-link">Session 6: Loops e Itera√ß√µes</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in M√≥dulo 3: Gest√£o de Ficheiros e Processos category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Curso_Powershell/Modules/Module3/" class="nav-list-link">M√≥dulo 3: Gest√£o de Ficheiros e Processos</a><ul class="nav-list"><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module3/session1.html" class="nav-list-link">Session 1: Scripts, Seguran√ßa, Fun√ß√µes e Personaliza√ß√£o</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module3/session2.html" class="nav-list-link">Session 2: Manipula√ß√£o e Transforma√ß√£o de Cole√ß√µes</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module3/session3.html" class="nav-list-link">Session 3: Personaliza√ß√£o do Ambiente PowerShell</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module3/session4.html" class="nav-list-link">Session 4: Scripts Tem√°ticos com Ficheiros</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module3/session5.html" class="nav-list-link">Session 5: Pesquisa, Filtragem e Exporta√ß√£o</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in M√≥dulo 4: Integra√ß√£o Avan√ßada, Automatiza√ß√£o e Ecossistemas category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Curso_Powershell/Modules/Module4/" class="nav-list-link">M√≥dulo 4: Integra√ß√£o Avan√ßada, Automatiza√ß√£o e Ecossistemas</a><ul class="nav-list"><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session1.html" class="nav-list-link">Session 1: PowerShell em Linux com WSL</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session2.html" class="nav-list-link">Session 2: PowerShell vs CMD: Diferen√ßas e Utiliza√ß√£o no Windows</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session3.html" class="nav-list-link">Session 3: Tarefas Agendadas e Cron Jobs</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session4.html" class="nav-list-link">Session 4: Servi√ßos, Logs e Alertas</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session5.html" class="nav-list-link">Session 5: Notifica√ß√µes e Relat√≥rios Automatizados</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session6.html" class="nav-list-link">Session 6: M√©todos Est√°ticos e Bibliotecas .NET</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session7.html" class="nav-list-link">Session 7: M√≥dulos e Bibliotecas Externas</a></li><li class="nav-list-item"><a href="/Curso_Powershell/Modules/Module4/session8.html" class="nav-list-link">Sess√£o 8: T√≥picos Avan√ßados e Boas Pr√°ticas</a></li></ul></li><li class="nav-list-item"><a href="/Curso_Powershell/refRapida.html" class="nav-list-link">Refer√™ncia R√°pida</a></li><li class="nav-list-item"><a href="/Curso_Powershell/vscode.html" class="nav-list-link">Visual Studio Code com PowerShell</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PowerShell Workshop" aria-label="Search PowerShell Workshop" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/Curso_Powershell/Modules/Module4/">M√≥dulo 4: Integra√ß√£o Avan√ßada, Automatiza√ß√£o e Ecossistemas</a></li> <li class="breadcrumb-nav-list-item"><span>Session 1: PowerShell em Linux com WSL</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h2 style="all: unset; font-size: 5em; font-weight: bold;"> üß≠ Sess√£o 1: PowerShell em Linux com WSL </h2> <p><br /></p> <p><strong>üéØ Objetivo</strong><br /> Explorar como usar o PowerShell em ambiente Linux utilizando o Windows Subsystem for Linux (WSL). Esta sess√£o ajuda a compreender as diferen√ßas entre sistemas, como adaptar comandos e onde √© prefer√≠vel usar bash em vez de PowerShell.</p><hr /> <ul> <li><a href="#1-o-que-√©-o-wsl">1. O que √© o WSL?</a> <ul> <li><a href="#instalar-powershell-no-bash">Instalar Powershell no bash</a></li> </ul> </li> <li><a href="#2-diferen√ßas-entre-powershell-no-windows-e-no-linux">2. Diferen√ßas entre PowerShell no Windows e no Linux</a></li> <li><a href="#3-exemplo-de-comandos-equivalentes">3. Exemplo de comandos equivalentes</a></li> <li><a href="#4-aceder-a-ficheiros-entre-windows-e-wsl">4. Aceder a ficheiros entre Windows e WSL</a> <ul> <li><a href="#41-do-wsl-para-o-windows">4.1. Do WSL para o Windows</a></li> <li><a href="#42-do-windows-para-o-wsl">4.2. Do Windows para o WSL</a></li> </ul> </li> <li><a href="#5-casos-em-que-powershell-no-linux-√©-√∫til">5. Casos em que PowerShell no Linux √© √∫til</a></li> <li><a href="#6-como-criar-e-correr-um-script-bash-sh">6. Como criar e correr um script Bash (.sh)</a> <ul> <li><a href="#61-criar-o-ficheiro">6.1. Criar o ficheiro</a></li> <li><a href="#62-dar-permiss√µes-de-execu√ß√£o">6.2. Dar permiss√µes de execu√ß√£o</a></li> <li><a href="#63-correr-o-script">6.3. Correr o script</a></li> </ul> </li> <li><a href="#7-posso-correr-scripts-ps1-no-wsllinux">7. Posso correr scripts <code class="language-plaintext highlighter-rouge">.ps1</code> no WSL/Linux?</a> <ul> <li><a href="#71-requisitos">7.1. Requisitos</a></li> <li><a href="#72-como-correr-o-script">7.2. Como correr o script</a></li> <li><a href="#73-exemplo">7.3. Exemplo</a></li> </ul> </li> <li><a href="#8-compatibilidade-com-powershell-no-windows">8. Compatibilidade com PowerShell no Windows</a></li> <li><a href="#9-compara√ß√£o-powershell-vs-bash-linux">9. Compara√ß√£o PowerShell vs Bash (Linux)</a> <ul> <li><a href="#91--notas">9.1. ‚úÖ Notas</a></li> </ul> </li> <li><a href="#10-comandos-que-n√£o-funcionam-no-linuxwsl">10. Comandos que n√£o funcionam no Linux/WSL</a> <ul> <li><a href="#101-comandos-comuns-que-n√£o-funcionam-no-wsllinux">10.1. Comandos comuns que <strong>n√£o funcionam no WSL/Linux</strong></a></li> <li><a href="#102-como-saber-se-um-cmdlet-funciona">10.2. Como saber se um cmdlet funciona?</a></li> <li><a href="#103-estrat√©gia-segura">10.3. Estrat√©gia segura</a></li> <li><a href="#104-alternativas-em-linux">10.4. Alternativas em Linux</a></li> </ul> </li> <li><a href="#11--exerc√≠cios">11. üß© Exerc√≠cios</a> <ul> <li><a href="#111--exerc√≠cio--listar-ficheiros-de-um-diret√≥rio-no-linux">11.1. üß© Exerc√≠cio ‚Äì Listar ficheiros de um diret√≥rio no Linux</a></li> <li><a href="#112--exerc√≠cio--correr-um-comando-bash-dentro-de-powershell">11.2. üß© Exerc√≠cio ‚Äì Correr um comando bash dentro de PowerShell</a></li> </ul> </li> <li><a href="#12-exemplos-para-powershell-e-bash">12. Exemplos para PowerShell e Bash</a> <ul> <li><a href="#121--exerc√≠cio--criar-um-script-com-tratamento-de-erro">12.1. üß© Exerc√≠cio ‚Äì Criar um script com tratamento de erro</a></li> <li><a href="#122--exerc√≠cio--calcular-o-dobro">12.2. üß© Exerc√≠cio ‚Äì Calcular o dobro</a></li> <li><a href="#123--exerc√≠cio--verificar-se-uma-cor-existe">12.3. üß© Exerc√≠cio ‚Äì Verificar se uma cor existe</a></li> <li><a href="#124--exerc√≠cio--mostrar-data-atual-e-daqui-a-7-dias">12.4. üß© Exerc√≠cio ‚Äì Mostrar data atual e daqui a 7 dias</a></li> <li><a href="#125--exerc√≠cio--adicionar-dias-√†-data-atual">12.5. üß© Exerc√≠cio ‚Äì Adicionar dias √† data atual</a></li> <li><a href="#126--exerc√≠cio--validar-nome-pela-primeira-letra">12.6. üß© Exerc√≠cio ‚Äì Validar nome pela primeira letra</a></li> <li><a href="#127--exerc√≠cio--maioridade">12.7. üß© Exerc√≠cio ‚Äì Maioridade</a></li> <li><a href="#128--exerc√≠cio--verificar-se-o-ano-√©-bissexto">12.8. üß© Exerc√≠cio ‚Äì Verificar se o ano √© bissexto</a></li> <li><a href="#129--exerc√≠cio--classificar-frutas-com-switch">12.9. üß© Exerc√≠cio ‚Äì Classificar frutas com switch</a></li> <li><a href="#1210--exerc√≠cio--esperar-at√©-o-minuto-ser-m√∫ltiplo-de-5">12.10. üß© Exerc√≠cio ‚Äì Esperar at√© o minuto ser m√∫ltiplo de 5</a></li> <li><a href="#1211--exerc√≠cio--copiar-ficheiro-com-logging-personalizado">12.11. üß© Exerc√≠cio ‚Äì Copiar ficheiro com logging personalizado</a></li> <li><a href="#1212--exerc√≠cio--converter-temperatura-com-fun√ß√£o">12.12. üß© Exerc√≠cio ‚Äì Converter temperatura com fun√ß√£o</a></li> </ul> </li> <li><a href="#13-resumo-e-boas-pr√°ticas">13. Resumo e Boas Pr√°ticas</a></li> </ul><hr /> <h2 id="1-o-que-√©-o-wsl"> <a href="#1-o-que-√©-o-wsl" class="anchor-heading" aria-labelledby="1-o-que-√©-o-wsl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. O que √© o WSL? </h2> <p>O <strong>WSL (Windows Subsystem for Linux)</strong> permite correr distribui√ß√µes Linux diretamente no Windows, com acesso ao terminal bash e, mais recentemente, ao PowerShell tamb√©m dentro do ambiente Linux.</p> <p>Para verificar se tens WSL:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl --list --verbose
</code></pre></div></div> <p>Para instalar uma distribui√ß√£o (ex: Ubuntu):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl --install -d Ubuntu
</code></pre></div></div> <p>Para abrir o terminal dessa distro:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl -d Ubuntu
</code></pre></div></div> <p>Podes correr PowerShell dentro da distribui√ß√£o com:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pwsh
</code></pre></div></div> <h3 id="instalar-powershell-no-bash"> <a href="#instalar-powershell-no-bash" class="anchor-heading" aria-labelledby="instalar-powershell-no-bash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instalar Powershell no bash </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Atualiza a lista de pacotes dispon√≠veis
sudo apt update

# Atualiza os pacotes instalados para as vers√µes mais recentes
sudo apt upgrade -y

# Instala utilit√°rios necess√°rios: wget para fazer downloads, apt-transport-https para reposit√≥rios HTTPS, e software-properties-common para gest√£o de reposit√≥rios
sudo apt install -y wget apt-transport-https software-properties-common

# Faz o download do pacote que adiciona o reposit√≥rio oficial da Microsoft para Debian 11
wget -q "https://packages.microsoft.com/config/debian/11/packages-microsoft-prod.deb" -O packages-microsoft-prod.deb

# Instala o reposit√≥rio da Microsoft no sistema
sudo dpkg -i packages-microsoft-prod.deb

# Atualiza novamente a lista de pacotes, agora incluindo os do reposit√≥rio Microsoft
sudo apt update

# Instala o PowerShell a partir dos reposit√≥rios agora dispon√≠veis
sudo apt install powershell
</code></pre></div></div><hr /> <h2 id="2-diferen√ßas-entre-powershell-no-windows-e-no-linux"> <a href="#2-diferen√ßas-entre-powershell-no-windows-e-no-linux" class="anchor-heading" aria-labelledby="2-diferen√ßas-entre-powershell-no-windows-e-no-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Diferen√ßas entre PowerShell no Windows e no Linux </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Funcionalidade</th> <th>Windows</th> <th>Linux via WSL</th> </tr> </thead> <tbody> <tr> <td>Acesso ao sistema</td> <td>C:\, registos, servi√ßos</td> <td>/home, systemd, cron</td> </tr> <tr> <td>Comandos nativos</td> <td><code class="language-plaintext highlighter-rouge">Get-Process</code>, <code class="language-plaintext highlighter-rouge">Get-Service</code></td> <td>Alguns n√£o funcionam ou retornam erro</td> </tr> <tr> <td>Caminhos</td> <td><code class="language-plaintext highlighter-rouge">C:\Users\nome</code></td> <td><code class="language-plaintext highlighter-rouge">/home/nome</code></td> </tr> <tr> <td>Permiss√µes</td> <td>NTFS / ACLs</td> <td>Permiss√µes Unix (chmod, chown)</td> </tr> </tbody> </table></div><hr /> <h2 id="3-exemplo-de-comandos-equivalentes"> <a href="#3-exemplo-de-comandos-equivalentes" class="anchor-heading" aria-labelledby="3-exemplo-de-comandos-equivalentes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Exemplo de comandos equivalentes </h2> <p>PowerShell no Windows:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Get-Process
Get-Service
</code></pre></div></div> <p>PowerShell no Linux (dentro do WSL):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ps aux        # comando bash para ver processos
systemctl     # gerir servi√ßos no Linux
</code></pre></div></div> <p>Podes usar comandos bash diretamente dentro do PowerShell:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash -c "ls -la /etc"
</code></pre></div></div><hr /> <h2 id="4-aceder-a-ficheiros-entre-windows-e-wsl"> <a href="#4-aceder-a-ficheiros-entre-windows-e-wsl" class="anchor-heading" aria-labelledby="4-aceder-a-ficheiros-entre-windows-e-wsl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Aceder a ficheiros entre Windows e WSL </h2> <h3 id="41-do-wsl-para-o-windows"> <a href="#41-do-wsl-para-o-windows" class="anchor-heading" aria-labelledby="41-do-wsl-para-o-windows"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1. Do WSL para o Windows </h3> <p>A tua unidade C: aparece montada no WSL como:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/mnt/c/
</code></pre></div></div> <p>Por exemplo:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /mnt/c/Users/teu_utilizador/Desktop
</code></pre></div></div> <p>Podes navegar, copiar, mover ou executar ficheiros de Windows a partir do WSL usando este caminho.</p> <h3 id="42-do-windows-para-o-wsl"> <a href="#42-do-windows-para-o-wsl" class="anchor-heading" aria-labelledby="42-do-windows-para-o-wsl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2. Do Windows para o WSL </h3> <p>No Windows, podes aceder aos ficheiros do WSL atrav√©s do caminho de rede:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\\wsl.localhost\Ubuntu\home\teu_utilizador
</code></pre></div></div> <p>Basta colar esse caminho no Explorador de Ficheiros ou numa linha de comandos (<code class="language-plaintext highlighter-rouge">cd "\\wsl.localhost\Ubuntu\..."</code> no PowerShell).</p> <blockquote> <p>Substitui <code class="language-plaintext highlighter-rouge">Ubuntu</code> pelo nome da tua distribui√ß√£o WSL (<code class="language-plaintext highlighter-rouge">wsl -l</code> mostra todas).</p> </blockquote> <p><strong>Nota</strong>:</p> <blockquote> <p>Podes criar, editar e executar ficheiros do Windows a partir do Linux e vice-versa, mas <strong>n√£o deves editar o mesmo ficheiro ao mesmo tempo nos dois ambientes</strong>, pois isso pode causar corrup√ß√£o de dados.</p> </blockquote><hr /> <h2 id="5-casos-em-que-powershell-no-linux-√©-√∫til"> <a href="#5-casos-em-que-powershell-no-linux-√©-√∫til" class="anchor-heading" aria-labelledby="5-casos-em-que-powershell-no-linux-√©-√∫til"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Casos em que PowerShell no Linux √© √∫til </h2> <ul> <li>Scripts multiplataforma</li> <li>Aceder a comandos do Linux e manipular a sa√≠da com objetos</li> <li>Automatizar tarefas no WSL (ex: backups de ficheiros de Linux)</li> <li>Criar wrappers que combinam bash e PowerShell</li> </ul><hr /> <h2 id="6-como-criar-e-correr-um-script-bash-sh"> <a href="#6-como-criar-e-correr-um-script-bash-sh" class="anchor-heading" aria-labelledby="6-como-criar-e-correr-um-script-bash-sh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. Como criar e correr um script Bash (.sh) </h2> <h3 id="61-criar-o-ficheiro"> <a href="#61-criar-o-ficheiro" class="anchor-heading" aria-labelledby="61-criar-o-ficheiro"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1. Criar o ficheiro </h3> <ol> <li> <p>Cria um novo ficheiro com extens√£o <code class="language-plaintext highlighter-rouge">.sh</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> touch exemplo.sh
</code></pre></div> </div> </li> <li> <p>Abre o ficheiro no editor:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> nano exemplo.sh
</code></pre></div> </div> </li> <li> <p>Escreve o seguinte conte√∫do:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> #!/bin/bash
 echo "Ol√°, este √© um script Bash!"
</code></pre></div> </div> </li> <li> <p>Guarda e sai (<code class="language-plaintext highlighter-rouge">Ctrl+O</code>, depois <code class="language-plaintext highlighter-rouge">Enter</code>, e <code class="language-plaintext highlighter-rouge">Ctrl+X</code>)</p> </li> </ol> <h3 id="62-dar-permiss√µes-de-execu√ß√£o"> <a href="#62-dar-permiss√µes-de-execu√ß√£o" class="anchor-heading" aria-labelledby="62-dar-permiss√µes-de-execu√ß√£o"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2. Dar permiss√µes de execu√ß√£o </h3> <p>Antes de correr o script, precisas de dar permiss√µes de execu√ß√£o:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod +x exemplo.sh
</code></pre></div></div> <h3 id="63-correr-o-script"> <a href="#63-correr-o-script" class="anchor-heading" aria-labelledby="63-correr-o-script"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3. Correr o script </h3> <p>Agora podes correr o script com:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./exemplo.sh
</code></pre></div></div> <blockquote> <p>Podes tamb√©m correr com <code class="language-plaintext highlighter-rouge">bash exemplo.sh</code>, mesmo sem dar permiss√µes, mas o uso de <code class="language-plaintext highlighter-rouge">./</code> √© mais comum para scripts teus.</p> </blockquote> <blockquote> <p>‚ö†Ô∏è Nota: o <code class="language-plaintext highlighter-rouge">#!/bin/bash</code> na primeira linha do ficheiro √© chamado de ‚Äúshebang‚Äù e diz ao sistema que deve usar o interpretador Bash para executar o script.</p> </blockquote><hr /> <h2 id="7-posso-correr-scripts-ps1-no-wsllinux"> <a href="#7-posso-correr-scripts-ps1-no-wsllinux" class="anchor-heading" aria-labelledby="7-posso-correr-scripts-ps1-no-wsllinux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7. Posso correr scripts <code class="language-plaintext highlighter-rouge">.ps1</code> no WSL/Linux? </h2> <p>Sim! Desde que tenhas o PowerShell instalado na tua distribui√ß√£o Linux (via WSL), podes correr scripts <code class="language-plaintext highlighter-rouge">.ps1</code> como farias no Windows.</p> <h3 id="71-requisitos"> <a href="#71-requisitos" class="anchor-heading" aria-labelledby="71-requisitos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1. Requisitos </h3> <ol> <li> <p><strong>PowerShell instalado no WSL</strong></p> <p>Verifica com:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> pwsh --version
</code></pre></div> </div> <p>Se n√£o estiver instalado:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo apt update
 sudo apt install powershell
</code></pre></div> </div> </li> <li> <p><strong>Script com formato correto (opcional)</strong></p> <ul> <li>Certifica-te de que o ficheiro <code class="language-plaintext highlighter-rouge">.ps1</code> est√° com quebras de linha em <strong>formato Unix (LF)</strong>.</li> <li>A codifica√ß√£o deve ser <strong>UTF-8 sem BOM</strong> (configura isto no VS Code se necess√°rio).</li> <li> <p>Para facilitar, podes dar permiss√µes de execu√ß√£o:</p> <p>chmod +x script.ps1</p> </li> </ul> </li> </ol> <h3 id="72-como-correr-o-script"> <a href="#72-como-correr-o-script" class="anchor-heading" aria-labelledby="72-como-correr-o-script"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.2. Como correr o script </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pwsh ./script.ps1
</code></pre></div></div> <p>Ou indicando o caminho completo:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pwsh /home/nuno/scripts/backup.ps1
</code></pre></div></div> <blockquote> <p>Caminhos em Linux usam <code class="language-plaintext highlighter-rouge">/</code> e come√ßam por <code class="language-plaintext highlighter-rouge">/home/...</code>, n√£o por <code class="language-plaintext highlighter-rouge">C:\</code>.</p> </blockquote> <h3 id="73-exemplo"> <a href="#73-exemplo" class="anchor-heading" aria-labelledby="73-exemplo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3. Exemplo </h3> <h4 id="ficheiro-listarps1"> <a href="#ficheiro-listarps1" class="anchor-heading" aria-labelledby="ficheiro-listarps1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ficheiro: <code class="language-plaintext highlighter-rouge">listar.ps1</code> </h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ficheiros = Get-ChildItem /home/nuno/documentos
foreach ($f in $ficheiros) {
    Write-Output $f.Name
}
</code></pre></div></div> <h4 id="executar-no-terminal"> <a href="#executar-no-terminal" class="anchor-heading" aria-labelledby="executar-no-terminal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Executar no terminal: </h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pwsh ./listar.ps1
</code></pre></div></div> <p>‚ö†Ô∏è Aten√ß√£o: scripts que usam comandos espec√≠ficos de Windows (como <code class="language-plaintext highlighter-rouge">Get-Service</code> ou <code class="language-plaintext highlighter-rouge">Get-EventLog</code>) <strong>n√£o v√£o funcionar</strong> em Linux.</p><hr /> <h2 id="8-compatibilidade-com-powershell-no-windows"> <a href="#8-compatibilidade-com-powershell-no-windows" class="anchor-heading" aria-labelledby="8-compatibilidade-com-powershell-no-windows"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. Compatibilidade com PowerShell no Windows </h2> <p>Embora a maioria dos comandos PowerShell funcione da mesma forma em Linux via WSL, h√° pequenas diferen√ßas que deves conhecer.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Tema</th> <th>Funciona no WSL?</th> <th>Notas</th> </tr> </thead> <tbody> <tr> <td>Vari√°veis (<code class="language-plaintext highlighter-rouge">$x = ...</code>)</td> <td>‚úÖ</td> <td>Igual nos dois ambientes.</td> </tr> <tr> <td>Tipos de dados</td> <td>‚úÖ</td> <td>Os tipos primitivos funcionam da mesma forma (<code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">string</code>, etc).</td> </tr> <tr> <td>Formatar output (<code class="language-plaintext highlighter-rouge">Format-*</code>)</td> <td>‚úÖ</td> <td>Sem diferen√ßas. S√≥ para visualiza√ß√£o no terminal.</td> </tr> <tr> <td>Pipeline (<code class="language-plaintext highlighter-rouge">|</code>)</td> <td>‚úÖ</td> <td>Igual em ambos os sistemas.</td> </tr> <tr> <td>Objetos (<code class="language-plaintext highlighter-rouge">$_</code>, <code class="language-plaintext highlighter-rouge">.Property</code>)</td> <td>‚úÖ</td> <td>Funciona da mesma forma. Aten√ß√£o a comandos que retornam texto puro.</td> </tr> <tr> <td>Par√¢metros (<code class="language-plaintext highlighter-rouge">-Name</code>, etc.)</td> <td>‚úÖ</td> <td>Totalmente compat√≠vel.</td> </tr> <tr> <td>Exportar dados (<code class="language-plaintext highlighter-rouge">Export-Csv</code>, <code class="language-plaintext highlighter-rouge">Out-File</code>)</td> <td>‚úÖ</td> <td>Gera ficheiros compat√≠veis, mas aten√ß√£o ao encoding.</td> </tr> <tr> <td>Manipula√ß√£o de texto</td> <td>‚úÖ</td> <td>Sem diferen√ßas (m√©todos <code class="language-plaintext highlighter-rouge">.ToUpper()</code>, <code class="language-plaintext highlighter-rouge">-replace</code>, etc).</td> </tr> <tr> <td>Criar scripts <code class="language-plaintext highlighter-rouge">.ps1</code></td> <td>‚úÖ</td> <td>Funciona, mas podes ter de dar permiss√µes (<code class="language-plaintext highlighter-rouge">chmod +x</code>) no Linux.</td> </tr> <tr> <td>Estruturas condicionais</td> <td>‚úÖ</td> <td><code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">elseif</code>, <code class="language-plaintext highlighter-rouge">else</code> funcionam da mesma forma.</td> </tr> <tr> <td>Loops (<code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">foreach</code>)</td> <td>‚úÖ</td> <td>Igual. Sem diferen√ßas.</td> </tr> <tr> <td>Try / Catch / Finally</td> <td>‚úÖ</td> <td>Sem diferen√ßas. √ötil para tratar erros de comandos bash tamb√©m.</td> </tr> <tr> <td>Fun√ß√µes (<code class="language-plaintext highlighter-rouge">function X {}</code>)</td> <td>‚úÖ</td> <td>Totalmente suportado.</td> </tr> <tr> <td>Aliases (<code class="language-plaintext highlighter-rouge">Set-Alias</code>)</td> <td>‚úÖ</td> <td>Funciona, mas verifica se o alias n√£o entra em conflito com bash.</td> </tr> <tr> <td>Personaliza√ß√£o (<code class="language-plaintext highlighter-rouge">$PROFILE</code>)</td> <td>‚ö†Ô∏è Parcial</td> <td>O perfil <code class="language-plaintext highlighter-rouge">$PROFILE</code> existe, mas pode precisar ser criado manualmente. Depende da distro.</td> </tr> </tbody> </table></div> <blockquote> <p>‚úÖ = Funciona sem altera√ß√µes<br /> ‚ö†Ô∏è = Funciona, mas com precau√ß√µes</p> </blockquote><hr /> <h2 id="9-compara√ß√£o-powershell-vs-bash-linux"> <a href="#9-compara√ß√£o-powershell-vs-bash-linux" class="anchor-heading" aria-labelledby="9-compara√ß√£o-powershell-vs-bash-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9. Compara√ß√£o PowerShell vs Bash (Linux) </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Tema</th> <th>PowerShell</th> <th>Bash / Shell Script</th> </tr> </thead> <tbody> <tr> <td><strong>Vari√°veis</strong></td> <td><code class="language-plaintext highlighter-rouge">$x = 5</code></td> <td><code class="language-plaintext highlighter-rouge">x=5</code> (sem espa√ßos)</td> </tr> <tr> <td><strong>Tipos de dados</strong></td> <td>Suporte a tipos (<code class="language-plaintext highlighter-rouge">[int]</code>, <code class="language-plaintext highlighter-rouge">[string]</code>)</td> <td>Tudo √© texto (strings); convers√µes manuais</td> </tr> <tr> <td><strong>Formatar output</strong></td> <td><code class="language-plaintext highlighter-rouge">Format-Table</code>, <code class="language-plaintext highlighter-rouge">Format-List</code></td> <td><code class="language-plaintext highlighter-rouge">printf</code>, <code class="language-plaintext highlighter-rouge">awk</code>, <code class="language-plaintext highlighter-rouge">column</code></td> </tr> <tr> <td><strong>Pipeline</strong></td> <td>Passa objetos (<code class="language-plaintext highlighter-rouge">|</code>)</td> <td>Passa apenas texto (<code class="language-plaintext highlighter-rouge">|</code>)</td> </tr> <tr> <td><strong>Acesso a propriedades</strong></td> <td><code class="language-plaintext highlighter-rouge">$obj.Name</code>, <code class="language-plaintext highlighter-rouge">$_</code></td> <td><code class="language-plaintext highlighter-rouge">cut</code>, <code class="language-plaintext highlighter-rouge">awk</code>, parsing de texto</td> </tr> <tr> <td><strong>Par√¢metros</strong></td> <td><code class="language-plaintext highlighter-rouge">-Name</code>, <code class="language-plaintext highlighter-rouge">-Verbose</code> com valida√ß√£o autom√°tica</td> <td><code class="language-plaintext highlighter-rouge">$1</code>, <code class="language-plaintext highlighter-rouge">$2</code>, <code class="language-plaintext highlighter-rouge">$@</code>, <code class="language-plaintext highlighter-rouge">getopts</code> para argumentos</td> </tr> <tr> <td><strong>Exportar output</strong></td> <td><code class="language-plaintext highlighter-rouge">Export-Csv</code>, <code class="language-plaintext highlighter-rouge">Out-File</code>, <code class="language-plaintext highlighter-rouge">Set-Content</code></td> <td><code class="language-plaintext highlighter-rouge">&gt;</code> (redirecionamento), <code class="language-plaintext highlighter-rouge">echo</code>, <code class="language-plaintext highlighter-rouge">tee</code>, <code class="language-plaintext highlighter-rouge">cat &gt; ficheiro</code></td> </tr> <tr> <td><strong>Criar scripts</strong></td> <td><code class="language-plaintext highlighter-rouge">.ps1</code> com <code class="language-plaintext highlighter-rouge">pwsh</code> ou <code class="language-plaintext highlighter-rouge">powershell</code></td> <td><code class="language-plaintext highlighter-rouge">.sh</code> com <code class="language-plaintext highlighter-rouge">bash</code> ou <code class="language-plaintext highlighter-rouge">sh</code></td> </tr> <tr> <td><strong>Try / Catch</strong></td> <td><code class="language-plaintext highlighter-rouge">try { } catch { } finally { }</code></td> <td><code class="language-plaintext highlighter-rouge">trap</code> e controlo manual de erros (<code class="language-plaintext highlighter-rouge">||</code>, <code class="language-plaintext highlighter-rouge">$?</code>)</td> </tr> <tr> <td><strong>Manipula√ß√£o de texto</strong></td> <td><code class="language-plaintext highlighter-rouge">.ToUpper()</code>, <code class="language-plaintext highlighter-rouge">-replace</code>, <code class="language-plaintext highlighter-rouge">Split()</code></td> <td><code class="language-plaintext highlighter-rouge">awk</code>, <code class="language-plaintext highlighter-rouge">sed</code>, <code class="language-plaintext highlighter-rouge">tr</code>, <code class="language-plaintext highlighter-rouge">cut</code></td> </tr> <tr> <td><strong>Condicionais</strong></td> <td><code class="language-plaintext highlighter-rouge">if (...) { }</code> com operadores <code class="language-plaintext highlighter-rouge">-eq</code>, <code class="language-plaintext highlighter-rouge">-lt</code>, etc.</td> <td><code class="language-plaintext highlighter-rouge">if [ ... ]; then ... fi</code> ou <code class="language-plaintext highlighter-rouge">[[ ... ]]</code></td> </tr> <tr> <td><strong>Loops</strong></td> <td><code class="language-plaintext highlighter-rouge">foreach</code>, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>, <code class="language-plaintext highlighter-rouge">do-until</code></td> <td><code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>, <code class="language-plaintext highlighter-rouge">until</code>, <code class="language-plaintext highlighter-rouge">for x in ...; do ... done</code></td> </tr> <tr> <td><strong>Fun√ß√µes</strong></td> <td><code class="language-plaintext highlighter-rouge">function X {}</code> ou <code class="language-plaintext highlighter-rouge">X() {}</code></td> <td><code class="language-plaintext highlighter-rouge">X() { comandos }</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td><code class="language-plaintext highlighter-rouge">Set-Alias ls Get-ChildItem</code></td> <td><code class="language-plaintext highlighter-rouge">alias ll='ls -la'</code></td> </tr> <tr> <td><strong>Personaliza√ß√£o</strong></td> <td><code class="language-plaintext highlighter-rouge">$PROFILE</code>, scripts de arranque <code class="language-plaintext highlighter-rouge">.ps1</code></td> <td><code class="language-plaintext highlighter-rouge">~/.bashrc</code>, <code class="language-plaintext highlighter-rouge">~/.profile</code>, <code class="language-plaintext highlighter-rouge">~/.bash_aliases</code></td> </tr> </tbody> </table></div><hr /> <h3 id="91--notas"> <a href="#91--notas" class="anchor-heading" aria-labelledby="91--notas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.1. ‚úÖ Notas </h3> <ul> <li><strong>PowerShell</strong> trabalha com objetos ‚Äî ideal para automa√ß√£o em sistemas Windows.</li> <li><strong>Bash</strong> √© mais simples e direto, mas requer ferramentas externas para muitas tarefas.</li> <li>O <strong>PowerShell no Linux</strong> tenta oferecer o melhor dos dois mundos, mas comandos nativos do Bash continuam muitas vezes mais r√°pidos e leves.</li> </ul><hr /> <blockquote> <p>Dica para scripts port√°veis: se queres algo que funcione tanto em Windows como Linux, evita comandos espec√≠ficos como <code class="language-plaintext highlighter-rouge">Get-Service</code> ou <code class="language-plaintext highlighter-rouge">systemctl</code>, e foca-te em l√≥gica e manipula√ß√£o de ficheiros.</p> </blockquote><hr /> <h2 id="10-comandos-que-n√£o-funcionam-no-linuxwsl"> <a href="#10-comandos-que-n√£o-funcionam-no-linuxwsl" class="anchor-heading" aria-labelledby="10-comandos-que-n√£o-funcionam-no-linuxwsl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10. Comandos que n√£o funcionam no Linux/WSL </h2> <p>Alguns cmdlets do PowerShell s√£o espec√≠ficos do Windows porque dependem de funcionalidades como:</p> <ul> <li>Registo do Windows (Registry)</li> <li>Servi√ßos do Windows</li> <li>Event Viewer</li> <li>WMI (Windows Management Instrumentation)</li> <li>Componentes gr√°ficos (como GridView)</li> <li>Objetos COM</li> </ul> <h3 id="101-comandos-comuns-que-n√£o-funcionam-no-wsllinux"> <a href="#101-comandos-comuns-que-n√£o-funcionam-no-wsllinux" class="anchor-heading" aria-labelledby="101-comandos-comuns-que-n√£o-funcionam-no-wsllinux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1. Comandos comuns que <strong>n√£o funcionam no WSL/Linux</strong> </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Cmdlet</th> <th>Motivo</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">Get-Service</code></td> <td>Usa <code class="language-plaintext highlighter-rouge">Win32_Service</code>, exclusivo de Windows</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Start-Service</code> / <code class="language-plaintext highlighter-rouge">Stop-Service</code></td> <td>Gest√£o de servi√ßos s√≥ funciona no Windows</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Get-EventLog</code> / <code class="language-plaintext highlighter-rouge">Get-WinEvent</code></td> <td>O Event Viewer n√£o existe no Linux</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Get-ComputerInfo</code></td> <td>Depende de APIs do sistema operativo Windows</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Get-LocalUser</code>, <code class="language-plaintext highlighter-rouge">New-LocalUser</code></td> <td>Sistema de contas local diferente em Linux</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Get-ItemProperty -Path HKLM:\</code></td> <td>O Registry (<code class="language-plaintext highlighter-rouge">HKLM</code>, <code class="language-plaintext highlighter-rouge">HKCU</code>) n√£o existe no Linux</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Invoke-WmiMethod</code>, <code class="language-plaintext highlighter-rouge">Get-WmiObject</code></td> <td>WMI √© exclusivo de Windows</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">New-Object -ComObject ...</code></td> <td>COM (Component Object Model) n√£o existe em Linux</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Add-Type -AssemblyName System.Windows.Forms</code></td> <td>N√£o h√° suporte para GUI</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Out-GridView</code></td> <td>Requer interface gr√°fica (WPF), n√£o dispon√≠vel em Linux</td> </tr> </tbody> </table></div> <h3 id="102-como-saber-se-um-cmdlet-funciona"> <a href="#102-como-saber-se-um-cmdlet-funciona" class="anchor-heading" aria-labelledby="102-como-saber-se-um-cmdlet-funciona"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.2. Como saber se um cmdlet funciona? </h3> <p>Consulta a documenta√ß√£o oficial e verifica a sec√ß√£o ‚ÄúAplica-se a‚Äù no topo da p√°gina.<br /> Exemplo:<br /> üîó <a href="https://learn.microsoft.com/powershell/module/microsoft.powershell.management/get-service">Get-Service - Microsoft Docs</a></p> <p>Se disser apenas ‚ÄúWindows‚Äù, esse cmdlet n√£o funcionar√° em WSL/Linux.</p> <h3 id="103-estrat√©gia-segura"> <a href="#103-estrat√©gia-segura" class="anchor-heading" aria-labelledby="103-estrat√©gia-segura"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3. Estrat√©gia segura </h3> <p>Protege os teus scripts multiplataforma com <code class="language-plaintext highlighter-rouge">$IsWindows</code> ou <code class="language-plaintext highlighter-rouge">try/catch</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if ($IsWindows) {
    Get-Service
} else {
    Write-Output "Comando indispon√≠vel no Linux"
}
</code></pre></div></div> <h3 id="104-alternativas-em-linux"> <a href="#104-alternativas-em-linux" class="anchor-heading" aria-labelledby="104-alternativas-em-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.4. Alternativas em Linux </h3> <p>Exemplo para ver servi√ßos ativos:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash -c "systemctl list-units --type=service --all"
</code></pre></div></div> <p>Podes capturar e tratar a sa√≠da com PowerShell:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$resultado = bash -c "systemctl list-units --type=service --all"
$resultado | Out-String
</code></pre></div></div> <blockquote> <p>‚ö†Ô∏è Mesmo comandos ‚Äúsimples‚Äù como <code class="language-plaintext highlighter-rouge">Test-Connection</code> podem ter comportamentos diferentes entre Windows e Linux.</p> </blockquote><hr /> <h2 id="11--exerc√≠cios"> <a href="#11--exerc√≠cios" class="anchor-heading" aria-labelledby="11--exerc√≠cios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11. üß© Exerc√≠cios </h2> <h3 id="111--exerc√≠cio--listar-ficheiros-de-um-diret√≥rio-no-linux"> <a href="#111--exerc√≠cio--listar-ficheiros-de-um-diret√≥rio-no-linux" class="anchor-heading" aria-labelledby="111--exerc√≠cio--listar-ficheiros-de-um-diret√≥rio-no-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1. üß© Exerc√≠cio ‚Äì Listar ficheiros de um diret√≥rio no Linux </h3> <ol> <li>Acede ao WSL com <code class="language-plaintext highlighter-rouge">wsl</code> ou <code class="language-plaintext highlighter-rouge">wsl -d Ubuntu</code></li> <li>Corre PowerShell com <code class="language-plaintext highlighter-rouge">pwsh</code></li> <li>Lista os ficheiros da pasta <code class="language-plaintext highlighter-rouge">/etc</code> usando PowerShell</li> </ol> <!-- <details markdown="1"> <summary>Resposta</summary> Get-ChildItem /etc </details> --> <h3 id="112--exerc√≠cio--correr-um-comando-bash-dentro-de-powershell"> <a href="#112--exerc√≠cio--correr-um-comando-bash-dentro-de-powershell" class="anchor-heading" aria-labelledby="112--exerc√≠cio--correr-um-comando-bash-dentro-de-powershell"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.2. üß© Exerc√≠cio ‚Äì Correr um comando bash dentro de PowerShell </h3> <ol> <li>Usa PowerShell (dentro do WSL) para correr o comando <code class="language-plaintext highlighter-rouge">ls -l /home</code></li> <li>Usa <code class="language-plaintext highlighter-rouge">bash -c</code> ou o caminho completo do comando</li> </ol> <!-- <details markdown="1"> <summary>Resposta</summary> bash -c "ls -l /home" </details> --><hr /> <h2 id="12-exemplos-para-powershell-e-bash"> <a href="#12-exemplos-para-powershell-e-bash" class="anchor-heading" aria-labelledby="12-exemplos-para-powershell-e-bash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12. Exemplos para PowerShell e Bash </h2> <h3 id="121--exerc√≠cio--criar-um-script-com-tratamento-de-erro"> <a href="#121--exerc√≠cio--criar-um-script-com-tratamento-de-erro" class="anchor-heading" aria-labelledby="121--exerc√≠cio--criar-um-script-com-tratamento-de-erro"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.1. üß© Exerc√≠cio ‚Äì Criar um script com tratamento de erro </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede ao utilizador um caminho de ficheiro.</li> <li>Tenta abrir o ficheiro.</li> <li>Se o ficheiro n√£o existir, pergunta se quer cri√°-lo.</li> <li>Se n√£o tiver permiss√µes, mostra aviso.</li> <li>Qualquer outro erro √© registado num log.</li> <li>No final, mostra ‚ÄúOpera√ß√£o conclu√≠da.‚Äù</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>try {
    $ficheiro = Read-Host "Caminho do ficheiro"
    Get-Content $ficheiro -ErrorAction Stop
}
catch [System.IO.FileNotFoundException] {
    $resposta = Read-Host "Ficheiro n√£o encontrado. Queres cri√°-lo? (s/n)"
    if ($resposta -eq "s") {
        New-Item -Path $ficheiro -ItemType File
    }
}
catch [System.UnauthorizedAccessException] {
    Write-Output "Acesso negado. Tenta correr como administrador ou escolher outro local."
}
catch {
    Add-Content -Path erros.log -Value "[$(Get-Date)] Erro: $_"
}
finally {
    Write-Output "Opera√ß√£o conclu√≠da."
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Caminho do ficheiro: " ficheiro
if [ -f "$ficheiro" ]; then
    cat "$ficheiro"  # Mostra o conte√∫do
elif [ ! -e "$ficheiro" ]; then
    read -p "Ficheiro n√£o encontrado. Queres cri√°-lo? (s/n) " resposta
    if [ "$resposta" = "s" ]; then
        touch "$ficheiro"  # Cria ficheiro vazio
    fi
elif [ ! -r "$ficheiro" ]; then
    echo "Acesso negado. Tenta com sudo ou escolhe outro local."
else
    echo "Erro desconhecido." &gt;&gt; erros.log  # Regista erro
fi
echo "Opera√ß√£o conclu√≠da."
</code></pre></div></div><hr /> <h3 id="122--exerc√≠cio--calcular-o-dobro"> <a href="#122--exerc√≠cio--calcular-o-dobro" class="anchor-heading" aria-labelledby="122--exerc√≠cio--calcular-o-dobro"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2. üß© Exerc√≠cio ‚Äì Calcular o dobro </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede ao utilizador um n√∫mero.</li> <li>Converte o input para inteiro.</li> <li>Multiplica por 2.</li> <li>Mostra: ‚ÄúO dobro de <n√∫mero> √© <resultado>."</resultado></n√∫mero></li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$num = Read-Host "Introduz um n√∫mero"
$valor = [int]$num
Write-Output "O dobro de $valor √© $($valor * 2)"
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Introduz um n√∫mero: " num
resultado=$((num * 2))  # Multiplica√ß√£o inteira
echo "O dobro de $num √© $resultado"
</code></pre></div></div><hr /> <h3 id="123--exerc√≠cio--verificar-se-uma-cor-existe"> <a href="#123--exerc√≠cio--verificar-se-uma-cor-existe" class="anchor-heading" aria-labelledby="123--exerc√≠cio--verificar-se-uma-cor-existe"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.3. üß© Exerc√≠cio ‚Äì Verificar se uma cor existe </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Cria um array com 5 cores.</li> <li>Pede uma cor ao utilizador.</li> <li>Verifica se existe no array.</li> <li>Mostra ‚ÄúCor encontrada!‚Äù ou ‚ÄúCor n√£o encontrada.‚Äù</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$cores = @("Vermelho", "Azul", "Verde", "Amarelo", "Roxo")
$input = Read-Host "Introduz uma cor"
if ($cores -contains $input) {
    Write-Output "Cor encontrada!"
} else {
    Write-Output "Cor n√£o encontrada."
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cores=("Vermelho" "Azul" "Verde" "Amarelo" "Roxo")
read -p "Introduz uma cor: " input
if [[ " ${cores[@]} " =~ " $input " ]]; then
    echo "Cor encontrada!"
else
    echo "Cor n√£o encontrada."
fi
</code></pre></div></div><hr /> <h3 id="124--exerc√≠cio--mostrar-data-atual-e-daqui-a-7-dias"> <a href="#124--exerc√≠cio--mostrar-data-atual-e-daqui-a-7-dias" class="anchor-heading" aria-labelledby="124--exerc√≠cio--mostrar-data-atual-e-daqui-a-7-dias"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.4. üß© Exerc√≠cio ‚Äì Mostrar data atual e daqui a 7 dias </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Obt√©m a data atual.</li> <li>Mostra a data no formato ‚Äúdd-MM-yyyy‚Äù.</li> <li>Mostra a data de daqui a 7 dias no mesmo formato.</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$hoje = Get-Date
$futuro = $hoje.AddDays(7)
$hoje.ToString("dd-MM-yyyy")
$futuro.ToString("dd-MM-yyyy")
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>date +"%d-%m-%Y"  # Hoje
date -d "+7 days" +"%d-%m-%Y"  # Daqui a 7 dias
</code></pre></div></div><hr /> <h3 id="125--exerc√≠cio--adicionar-dias-√†-data-atual"> <a href="#125--exerc√≠cio--adicionar-dias-√†-data-atual" class="anchor-heading" aria-labelledby="125--exerc√≠cio--adicionar-dias-√†-data-atual"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.5. üß© Exerc√≠cio ‚Äì Adicionar dias √† data atual </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede quantos dias adicionar.</li> <li>Converte para n√∫mero.</li> <li>Mostra a nova data no formato: ‚Äúsexta-feira, 02 maio 2025‚Äù.</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$dias = Read-Host "Quantos dias queres adicionar?"
$novaData = (Get-Date).AddDays([int]$dias)
$novaData.ToString("dddd, dd MMMM yyyy")
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Quantos dias queres adicionar? " dias
date -d "+$dias days" +"%A, %d %B %Y"  # Nome do dia e m√™s por extenso
</code></pre></div></div><hr /> <h3 id="126--exerc√≠cio--validar-nome-pela-primeira-letra"> <a href="#126--exerc√≠cio--validar-nome-pela-primeira-letra" class="anchor-heading" aria-labelledby="126--exerc√≠cio--validar-nome-pela-primeira-letra"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.6. üß© Exerc√≠cio ‚Äì Validar nome pela primeira letra </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede um nome ao utilizador.</li> <li>Verifica se come√ßa por A ou a.</li> <li>Mostra ‚ÄúNome come√ßa por A‚Äù se for o caso.</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$nome = Read-Host "Introduz o teu nome"
if ($nome -like "A*" -or $nome -like "a*") {
    Write-Output "Nome come√ßa por A"
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Introduz o teu nome: " nome
if [[ "$nome" =~ ^[Aa] ]]; then
    echo "Nome come√ßa por A"
fi
</code></pre></div></div><hr /> <h3 id="127--exerc√≠cio--maioridade"> <a href="#127--exerc√≠cio--maioridade" class="anchor-heading" aria-labelledby="127--exerc√≠cio--maioridade"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.7. üß© Exerc√≠cio ‚Äì Maioridade </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede a idade.</li> <li>Mostra ‚Äú√âs maior de idade.‚Äù se &gt;= 18.</li> <li>Caso contr√°rio, mostra ‚Äú√âs menor de idade.‚Äù</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$idade = Read-Host "Qual √© a tua idade?"
if ([int]$idade -ge 18) {
    Write-Output "√âs maior de idade."
} else {
    Write-Output "√âs menor de idade."
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Qual √© a tua idade? " idade
if [ "$idade" -ge 18 ]; then
    echo "√âs maior de idade."
else
    echo "√âs menor de idade."
fi
</code></pre></div></div><hr /> <h3 id="128--exerc√≠cio--verificar-se-o-ano-√©-bissexto"> <a href="#128--exerc√≠cio--verificar-se-o-ano-√©-bissexto" class="anchor-heading" aria-labelledby="128--exerc√≠cio--verificar-se-o-ano-√©-bissexto"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.8. üß© Exerc√≠cio ‚Äì Verificar se o ano √© bissexto </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede um ano.</li> <li>Verifica se √© bissexto: <ul> <li>Divis√≠vel por 4 e n√£o por 100, ou divis√≠vel por 400.</li> </ul> </li> <li>Mostra ‚ÄúAno bissexto.‚Äù ou ‚ÄúAno comum.‚Äù</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ano = Read-Host "Introduz um ano"
if (($ano % 4 -eq 0 -and $ano % 100 -ne 0) -or ($ano % 400 -eq 0)) {
    Write-Output "Ano bissexto."
} else {
    Write-Output "Ano comum."
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Introduz um ano: " ano
if (( (ano % 4 == 0 &amp;&amp; ano % 100 != 0) || (ano % 400 == 0) )); then
    echo "Ano bissexto."
else
    echo "Ano comum."
fi
</code></pre></div></div> <h3 id="129--exerc√≠cio--classificar-frutas-com-switch"> <a href="#129--exerc√≠cio--classificar-frutas-com-switch" class="anchor-heading" aria-labelledby="129--exerc√≠cio--classificar-frutas-com-switch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.9. üß© Exerc√≠cio ‚Äì Classificar frutas com switch </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Pede ao utilizador o nome de uma fruta</li> <li>Usa <code class="language-plaintext highlighter-rouge">switch</code> (ou equivalente) para classificar: <ul> <li>‚ÄúFruta c√≠trica‚Äù se for laranja, lim√£o ou tangerina</li> <li>‚ÄúFruta tropical‚Äù se for banana, manga ou anan√°s</li> <li>‚ÄúOutra fruta‚Äù nos restantes casos</li> </ul> </li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$fruta = Read-Host "Introduz o nome de uma fruta"
switch ($fruta.ToLower()) {
    "laranja" { "Fruta c√≠trica" }
    "lim√£o" { "Fruta c√≠trica" }
    "tangerina" { "Fruta c√≠trica" }
    "banana" { "Fruta tropical" }
    "manga" { "Fruta tropical" }
    "anan√°s" { "Fruta tropical" }
    default { "Outra fruta" }
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Introduz o nome de uma fruta: " fruta
case "${fruta,,}" in
    laranja|lim√£o|tangerina)
        echo "Fruta c√≠trica"
        ;;
    banana|manga|anan√°s)
        echo "Fruta tropical"
        ;;
    *)
        echo "Outra fruta"
        ;;
esac
</code></pre></div></div> <h3 id="1210--exerc√≠cio--esperar-at√©-o-minuto-ser-m√∫ltiplo-de-5"> <a href="#1210--exerc√≠cio--esperar-at√©-o-minuto-ser-m√∫ltiplo-de-5" class="anchor-heading" aria-labelledby="1210--exerc√≠cio--esperar-at√©-o-minuto-ser-m√∫ltiplo-de-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10. üß© Exerc√≠cio ‚Äì Esperar at√© o minuto ser m√∫ltiplo de 5 </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Usa um loop <code class="language-plaintext highlighter-rouge">while</code></li> <li>Espera at√© que o minuto atual seja m√∫ltiplo de 5</li> <li>Mostra o minuto quando isso acontecer</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while ($true) {
    $minuto = (Get-Date).Minute
    if ($minuto % 5 -eq 0) {
        Write-Output "Minuto atual: $minuto"
        break
    }
    Start-Sleep -Seconds 10
}
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while true; do
    minuto=$(date +%M)  # Obt√©m o minuto atual
    if (( minuto % 5 == 0 )); then
        echo "Minuto atual: $minuto"
        break
    fi
    sleep 10  # Espera 10 segundos antes de voltar a verificar
done
</code></pre></div></div> <h3 id="1211--exerc√≠cio--copiar-ficheiro-com-logging-personalizado"> <a href="#1211--exerc√≠cio--copiar-ficheiro-com-logging-personalizado" class="anchor-heading" aria-labelledby="1211--exerc√≠cio--copiar-ficheiro-com-logging-personalizado"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.11. üß© Exerc√≠cio ‚Äì Copiar ficheiro com logging personalizado </h3> <p><strong>Enunciado:</strong><br /> Cria um script que:</p> <ol> <li>Copia um ficheiro de um local para outro</li> <li>Cria um ficheiro de log com nome baseado na data/hora</li> <li>Escreve um cabe√ßalho com: <ul> <li>Data de in√≠cio</li> <li>Utilizador</li> <li>Nome da m√°quina</li> <li>Diret√≥rio atual</li> <li>N√∫mero de processos ativos</li> </ul> </li> <li>Regista: <ul> <li>Se o ficheiro de origem existe</li> <li>Resultado da c√≥pia (sucesso ou falha)</li> <li>Hora de fim</li> </ul> </li> <li>Usa tags como <code class="language-plaintext highlighter-rouge">[INFO]</code>, <code class="language-plaintext highlighter-rouge">[ERRO]</code>, <code class="language-plaintext highlighter-rouge">[WARN]</code></li> <li>Usa data em cada linha do log</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$log = "log_$(Get-Date -Format 'yyyyMMdd_HHmm').txt"
$origem = Read-Host "Ficheiro de origem"
$destino = Read-Host "Destino"

Add-Content $log "[INFO] $(Get-Date -Format 'yyyy-MM-dd HH:mm') In√≠cio do script"
Add-Content $log "[INFO] Utilizador: $env:USERNAME"
Add-Content $log "[INFO] M√°quina: $env:COMPUTERNAME"
Add-Content $log "[INFO] Diret√≥rio atual: $(Get-Location)"
Add-Content $log "[INFO] Processos ativos: $((Get-Process).Count)"

if (Test-Path $origem) {
    try {
        Copy-Item $origem $destino -ErrorAction Stop
        Add-Content $log "[INFO] $(Get-Date -Format 'yyyy-MM-dd HH:mm') C√≥pia conclu√≠da com sucesso"
    }
    catch {
        Add-Content $log "[ERRO] $(Get-Date -Format 'yyyy-MM-dd HH:mm') Erro ao copiar: $_"
    }
} else {
    Add-Content $log "[WARN] $(Get-Date -Format 'yyyy-MM-dd HH:mm') Ficheiro de origem n√£o encontrado"
}

Add-Content $log "[INFO] $(Get-Date -Format 'yyyy-MM-dd HH:mm') Fim do script"
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log="log_$(date +%Y%m%d_%H%M).txt"
read -p "Ficheiro de origem: " origem
read -p "Destino: " destino

echo "[INFO] $(date '+%Y-%m-%d %H:%M') In√≠cio do script" &gt;&gt; "$log"
echo "[INFO] Utilizador: $USER" &gt;&gt; "$log"
echo "[INFO] M√°quina: $(hostname)" &gt;&gt; "$log"
echo "[INFO] Diret√≥rio atual: $(pwd)" &gt;&gt; "$log"
echo "[INFO] Processos ativos: $(ps aux | wc -l)" &gt;&gt; "$log"

if [ -f "$origem" ]; then
    if cp "$origem" "$destino"; then
        echo "[INFO] $(date '+%Y-%m-%d %H:%M') C√≥pia conclu√≠da com sucesso" &gt;&gt; "$log"
    else
        echo "[ERRO] $(date '+%Y-%m-%d %H:%M') Erro ao copiar ficheiro" &gt;&gt; "$log"
    fi
else
    echo "[WARN] $(date '+%Y-%m-%d %H:%M') Ficheiro de origem n√£o encontrado" &gt;&gt; "$log"
fi

echo "[INFO] $(date '+%Y-%m-%d %H:%M') Fim do script" &gt;&gt; "$log"
</code></pre></div></div><hr /> <h3 id="1212--exerc√≠cio--converter-temperatura-com-fun√ß√£o"> <a href="#1212--exerc√≠cio--converter-temperatura-com-fun√ß√£o" class="anchor-heading" aria-labelledby="1212--exerc√≠cio--converter-temperatura-com-fun√ß√£o"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.12. üß© Exerc√≠cio ‚Äì Converter temperatura com fun√ß√£o </h3> <p><strong>Enunciado:</strong><br /> Cria uma fun√ß√£o chamada <code class="language-plaintext highlighter-rouge">Converter-CelsiusParaFahrenheit</code> que:</p> <ol> <li>Recebe uma temperatura em Celsius como par√¢metro</li> <li>Converte para Fahrenheit com a f√≥rmula <code class="language-plaintext highlighter-rouge">F = C √ó 1.8 + 32</code></li> <li>Mostra o resultado</li> </ol> <p><strong>PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function Converter-CelsiusParaFahrenheit {
    param([double]$celsius)
    return ($celsius * 1.8 + 32)
}

$resultado = Converter-CelsiusParaFahrenheit 25
Write-Output "25 ¬∫C = $resultado ¬∫F"
</code></pre></div></div> <p><strong>Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>converter() {
    celsius=$1
    fahrenheit=$(echo "$celsius * 1.8 + 32" | bc -l)
    echo "$celsius ¬∫C = $fahrenheit ¬∫F"
}

converter 25
</code></pre></div></div><hr /> <h2 id="13-resumo-e-boas-pr√°ticas"> <a href="#13-resumo-e-boas-pr√°ticas" class="anchor-heading" aria-labelledby="13-resumo-e-boas-pr√°ticas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13. Resumo e Boas Pr√°ticas </h2> <ul> <li>O PowerShell em Linux tem limita√ß√µes: nem todos os comandos Windows funcionam</li> <li>Usa comandos bash quando necess√°rio (com <code class="language-plaintext highlighter-rouge">bash -c</code>)</li> <li>Aproveita o melhor dos dois mundos: objetos do PowerShell + ferramentas Unix</li> <li>Para scripts port√°veis, evita comandos espec√≠ficos de sistema</li> <li>Organiza os scripts com blocos <code class="language-plaintext highlighter-rouge">if ($IsLinux)</code> ou <code class="language-plaintext highlighter-rouge">$IsWindows</code></li> </ul> <h4 id="o-que-√©-fi-no-bash"> <a href="#o-que-√©-fi-no-bash" class="anchor-heading" aria-labelledby="o-que-√©-fi-no-bash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> O que √© <code class="language-plaintext highlighter-rouge">fi</code> no Bash </h4> <p>Em Bash, <code class="language-plaintext highlighter-rouge">fi</code> marca o <strong>fim de um bloco <code class="language-plaintext highlighter-rouge">if</code></strong>.<br /> √â o equivalente ao <code class="language-plaintext highlighter-rouge">}</code> que usamos no PowerShell.</p> <p><strong>Exemplo em Bash</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read -p "Qual √© o teu nome? " nome
if [ "$nome" = "Nuno" ]; then
    echo "Ol√°, Nuno!"
fi
</code></pre></div></div> <p><strong>Equivalente em PowerShell</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$nome = Read-Host "Qual √© o teu nome?"
if ($nome -eq "Nuno") {
    Write-Output "Ol√°, Nuno!"
}
</code></pre></div></div> <blockquote> <p>Memoriza: <code class="language-plaintext highlighter-rouge">fi</code> = fim do <code class="language-plaintext highlighter-rouge">if</code></p> </blockquote><hr /> <p>üîó <a href="https://learn.microsoft.com/pt-pt/windows/wsl/">Documenta√ß√£o oficial do WSL</a> üîó <a href="https://learn.microsoft.com/pt-pt/powershell/scripting/install/installing-powershell-on-linux">PowerShell no Linux</a></p><hr /> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
